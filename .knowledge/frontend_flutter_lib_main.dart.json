{"is_source_file": true, "format": "Dart", "description": "Main entry point and core app widget for a Flutter 2048 puzzle game, handling app initialization, theme setup, dialogs for game outcome, and general UI layout.", "external_files": ["providers/game_provider.dart", "theme/theme.dart", "widgets/widgets.dart", "constants/app_constants.dart"], "external_methods": ["runApp", "ChangeNotifierProvider", "MaterialApp", "Theme.of", "showDialog", "Navigator.of", "context.read", "context.watch"], "published": ["main", "MyApp", "_RootScaffold", "_RootScaffoldState", "_showWinDialog", "_showGameOverDialog", "_confirmAndRestart", "_ControlBarWithConfirm"], "classes": [{"name": "MyApp", "description": "Root widget initializing provider and setting up the MaterialApp with theme and home scaffold."}, {"name": "_RootScaffold", "description": "Stateful widget managing the main game screen and dialog interactions based on game state."}, {"name": "_RootScaffoldState", "description": "State class implementing logic for showing dialogs and restarting the game."}, {"name": "_ControlBarWithConfirm", "description": "Stateless widget wrapping control buttons and handling restart confirmation."}], "methods": [{"name": "didChangeDependencies", "description": "Adds a post-frame callback to check game outcome flags after dependencies change."}, {"name": "didUpdateWidget", "description": "Re-checks outcome flags when widget updates."}, {"name": "_maybeShowOutcomeDialog", "description": "Checks game state to display win or game over dialogs."}, {"name": "_showWinDialog", "description": "Displays dialog when the player wins, allowing restart or continue."}, {"name": "_showGameOverDialog", "description": "Displays dialog when the game is over, offering options to restart or close."}, {"name": "_confirmAndRestart", "description": "Confirms restart action; if confirmed, resets game state."}, {"name": "build", "description": "Builds the main UI, including background gradient, app bar, score, game board, and control bar."}], "calls": ["WidgetsBinding.instance.addPostFrameCallback", "context.read", "context.watch", "showDialog", "Navigator.of", "Theme.of", "gp.resetOutcomeFlags", "gp.newGame", "gp.undo"], "search-terms": ["Flutter", "2048", "game UI", "dialogs", "game provider", "restart confirmation", "main.dart", "game outcome", "provider pattern", "StatefulWidget"], "state": 2, "file_id": 1, "knowledge_revision": 140, "git_revision": "", "revision_history": [{"26": ""}, {"41": ""}, {"71": ""}, {"79": ""}, {"82": ""}, {"84": ""}, {"93": ""}, {"105": ""}, {"106": ""}, {"107": ""}, {"110": ""}, {"121": ""}, {"140": ""}], "hash": "d2cadcd593c67807d0898744250cfc9d", "format-version": 4, "code-base-name": "frontend_flutter", "filename": "frontend_flutter/lib/main.dart"}