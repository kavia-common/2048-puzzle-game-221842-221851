{"is_source_file": true, "format": "Dart", "description": "This file defines the GameProvider class, a ChangeNotifier that manages the game state for a 2048 puzzle game, including move logic, state persistence, undo functionality, and interaction with the game logic and UI.", "external_files": ["../game/board.dart", "../game/game_logic.dart", "../game/move_result.dart", "../game/tile.dart", "../utils/persistence.dart"], "external_methods": ["Persistence.getBestScore", "Persistence.setBestScore", "GameLogic.newGame", "GameLogic.move", "Board.containsValue", "Board.hasAnyMove", "Board.getAt", "Board.withTileMoved", "Board.replaceTwoWithMerged", "Board.placeTile"], "published": ["GameProvider"], "classes": [{"name": "GameProvider", "description": "A ChangeNotifier that provides game state management, including move execution, undo, and persistence handling for a 2048 game."}], "methods": [{"name": "GameProvider", "description": "Constructor initializing game state and loading best score."}, {"name": "resetOutcomeFlags", "description": "Resets transient flags indicating game outcome (win or game over)."}, {"name": "_loadBestScore", "description": "Asynchronously loads the best score from persistent storage."}, {"name": "newGame", "description": "Starts a new game with optional RNG seed, resets score, state, and history."}, {"name": "undo", "description": "Reverts the last move if available by restoring saved snapshot."}, {"name": "moveLeft", "description": "Performs a move to the left by invoking game logic."}, {"name": "moveRight", "description": "Performs a move to the right."}, {"name": "moveUp", "description": "Performs a move upward."}, {"name": "moveDown", "description": "Performs a move downward."}, {"name": "_performMove", "description": "Processes the move result, updates score, state, and board, and notifies listeners."}, {"name": "_applyResultToBoard", "description": "Rebuilds the board state from a previous state and move result."}], "calls": ["Persistence.getBestScore", "Persistence.setBestScore", "GameLogic.newGame", "GameLogic.move", "notifyListeners", "GameLogic.targetWinValue"], "search-terms": ["game state management", "2048 Flutter provider", "undo functionality", "persistent best score", "move handling", "board update", "game logic integration"], "state": 2, "file_id": 20, "knowledge_revision": 104, "git_revision": "", "revision_history": [{"43": ""}, {"44": ""}, {"62": ""}, {"63": ""}, {"64": ""}, {"66": ""}, {"104": ""}], "hash": "1344c453bae4358acc6687326bbb4ddf", "format-version": 4, "code-base-name": "frontend_flutter", "filename": "frontend_flutter/lib/providers/game_provider.dart"}