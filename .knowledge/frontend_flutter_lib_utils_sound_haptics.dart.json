{"is_source_file": true, "format": "Dart", "description": "This file defines the SoundHapticsService class, which manages audio effects and haptic feedback for a 2048 game. It includes methods for playing sound effects, triggering haptic responses, and manages platform-specific conditions and resource initialization.", "external_files": ["package:flutter/foundation.dart", "package:flutter/services.dart", "package:audioplayers/audioplayers.dart"], "external_methods": ["HapticFeedback.selectionClick", "HapticFeedback.mediumImpact", "HapticFeedback.heavyImpact"], "published": ["SoundHapticsService"], "classes": [{"name": "SoundHapticsService", "description": "A utility class for managing sound effects and haptic feedback on different platforms, with safeguards for web and unsupported environments."}], "methods": [{"name": "SoundHapticsService._", "description": "Private constructor for the SoundHapticsService, initializing the enabled flag."}, {"name": "SoundHapticsService", "description": "Factory constructor for creating an instance with optional enabled flag; initializes audio assets."}, {"name": "setEnabled", "description": "Enables or disables both audio effects and haptics."}, {"name": "enabled", "description": "Getter for the enabled state."}, {"name": "_play", "description": "Internal method to play a sound effect with throttling."}, {"name": "_hapticLight", "description": "Triggers a light haptic feedback if supported."}, {"name": "_hapticMedium", "description": "Triggers a medium impact haptic feedback."}, {"name": "_hapticHeavy", "description": "Triggers a heavy impact haptic feedback."}, {"name": "_hapticSuccess", "description": "Triggers a success haptic pattern."}, {"name": "_hapticError", "description": "Triggers an error haptic pattern."}, {"name": "onMoveValid", "description": "Called after a valid move; plays click sound and haptic."}, {"name": "onInvalidMove", "description": "Called when a move results in no change; plays invalid sound and haptic."}, {"name": "onMerge", "description": "Called when tiles merge; plays merge sound and medium haptic."}, {"name": "onSpawn", "description": "Called when a new tile spawns; plays spawn sound and haptic."}, {"name": "onUndo", "description": "Called when undo is pressed; plays undo sound and haptic."}, {"name": "onRestart", "description": "Called when restart is confirmed; plays restart sound and heavy haptic."}, {"name": "onWin", "description": "Called when the player wins; plays win sound and success haptic."}, {"name": "onLose", "description": "Called when no moves remain; plays lose sound and error haptic."}], "calls": ["AudioPlayer().setReleaseMode", "AudioPlayer().setSource", "AudioPlayer().setVolume", "AudioPlayer().resume", "HapticFeedback.selectionClick", "HapticFeedback.mediumImpact", "HapticFeedback.heavyImpact"], "search-terms": ["sound effects", "haptic feedback", "audio player", "2048 game", "assets/sfx", "platform support", "web no-op", "haptic supported platforms"], "state": 2, "file_id": 37, "knowledge_revision": 163, "git_revision": "", "revision_history": [{"136": ""}, {"147": ""}, {"148": ""}, {"152": ""}, {"160": ""}, {"163": ""}], "hash": "326c5e1ce12e89d6764b59491d8b4579", "format-version": 4, "code-base-name": "frontend_flutter", "filename": "frontend_flutter/lib/utils/sound_haptics.dart"}