{"is_source_file": true, "format": "Dart", "description": "This file defines the 'BoardView' widget and associated components for rendering an animated 2048 game board in Flutter. It manages layout, background grid, animated tiles, and visual effects for spawning and merging tiles.", "external_files": ["../constants/app_constants.dart", "../game/game.dart", "../providers/game_provider.dart", "../theme/anim.dart"], "external_methods": ["Theme.of()", "Consumer()", "LayoutBuilder()", "SizedBox()", "Stack()", "Positioned.fill()", "DecoratedBox()", "BoxDecoration()", "BorderRadius()", "EdgeInsets.all()", "Padding()", "RepaintBoundary()", "AnimatedPositioned()", "AnimatedOpacity()", "AnimatedScale()", "Text()", "Color.lerp()", "Colors"], "published": ["BoardView"], "classes": [{"name": "BoardView", "description": "A stateless widget that renders the animated 2048 game board, including background grid and tiles."}, {"name": "_GridBackground", "description": "Builds the static background grid for the game board."}, {"name": "_TilesLayer", "description": "Contains animated tile widgets positioned on the board, sorted for correct z-ordering during merges and spawns."}, {"name": "_AnimatedTile", "description": "Manages spawn and merge animations for individual tiles."}, {"name": "_TileView", "description": "Visual representation of a tile, with color and text based on its value."}, {"name": "_TileColors", "description": "Provides color schemes for tiles based on their numeric value."}], "methods": [{"name": "build", "description": "Builds the entire BoardView widget tree, resolving size, layout, and fetching game state."}, {"name": "_extractTiles", "description": "Extracts the list of tiles from the game board, sorted by ID for stable animations."}, {"name": "build", "description": "Builds the background grid of empty cells."}, {"name": "build", "description": "Builds the stack of animated tiles positioned according to their row and column."}, {"name": "_AnimatedTile", "description": "Stateful widget handling spawn and merge animations for a tile."}, {"name": "_AnimatedTileState", "description": "State class managing scale and opacity animations during tile spawn/merge."}, {"name": "_playSpawn", "description": "Triggers the spawn animation for a new tile."}, {"name": "_scheduleMergePop", "description": "Triggers a quick pop animation for merge effects."}, {"name": "build", "description": "Renders the tile with background and text, applying color based on value."}], "calls": ["Theme.of()", "Consumer<GameProvider>", "LayoutBuilder()", "Card()", "SizedBox()", "Stack()", "Positioned.fill()", "DecoratedBox()", "BoxDecoration()", "BorderRadius.circular()", "Padding()", "RepaintBoundary()", "AnimatedPositioned()", "AnimatedOpacity()", "AnimatedScale()", "Text()", "Color.lerp()", "Colors", "_extractTiles()", "_TileColors.forValue()"], "search-terms": ["2048 game", "animated tiles", "Flutter layout", "tile spawn merge animation", "game board widget", "grid background", "provider state", "Custom animations", "square grid layout"], "state": 2, "file_id": 29, "knowledge_revision": 156, "git_revision": "", "revision_history": [{"78": ""}, {"85": ""}, {"87": ""}, {"88": ""}, {"97": ""}, {"98": ""}, {"109": ""}, {"116": ""}, {"132": ""}, {"150": ""}, {"156": ""}], "hash": "ca9b0298b24e0f9390b0ce9936c80b7a", "format-version": 4, "code-base-name": "frontend_flutter", "filename": "frontend_flutter/lib/widgets/board_view.dart"}